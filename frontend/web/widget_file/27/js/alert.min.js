(function(){function t(t){var i=$.extend({},{style:"wap",title:"",icon:"",content:"",contentTextAlign:"center",width:"auto",height:"auto",minWidth:"0",className:"",position:"fixed",animateType:"scale",modal:!1,isModalClose:!1,bodyScroll:!1,closeTime:3e3,actionsheetCloseText:"",buttons:{}},t),s={time:450,init:function(){s.framework()}},e=function(){for(var t=navigator.userAgent,e=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],n=!0,o=0;o<e.length;o++)if(0<t.indexOf(e[o])){n=!1;break}return n}();s.event=e?"click":"touchstart";var a=$("<div class='alert-modal none'>"),l=$("<div class='alert-container animated'>"),d=$("<div class='alert-title'>"+i.title+"</div>"),c=$("<div class='alert-content'>"),r=$("<div class='alert-btn-box'>"),p=$("<div class='alert-btn-close'>Ã—</div>"),h=$("<p class='alert-btn-p alert-btn-sheet'>"+i.actionsheetCloseText+"</p>");if(i.content[0]&&1==i.content[0].nodeType){var n=i.content.clone();c.append(n)}else c.html(i.content);function m(){s.buttonsLength<=0&&"wap"==i.style&&setTimeout(function(){l.fadeOut(s.time),a.fadeOut(s.time),i.bodyScroll&&$("body").css("overflow","auto")},i.closeTime)}return s.framework=function(){for(var t in s.buttons=[],i.buttons)s.buttons.push(t);s.buttonsLength=s.buttons.length,"actionsheet"==i.style?l.append(d):l.append(d).append(c),"pc"==i.style&&l.append(p).addClass("pcAlert"),"actionsheet"==i.style&&l.addClass("alert-actionsheet"),!i.modal&&"true"!=i.modal||($("body").append(a),a.fadeIn(s.time),i.bodyScroll&&$("body").css("overflow","hidden")),$("body").append(l),c.css({"text-align":i.contentTextAlign}),parseInt(i.minWidth)>parseInt(l.css("width"))&&(i.width=i.minWidth),a.css("position",i.position),a.css("z-index",u),++u,"fixed"==i.position&&l.css({position:i.position,left:"50%",top:"50%","z-index":u}),"absolute"==i.position&&l.css({position:i.position,left:$(window).width()/2,top:$(window).height()/2+$(window).scrollTop(),"z-index":u}),l.css("width",i.width),l.css("height",i.height),"auto"==i.width&&l.css("width",l[0].clientWidth+10),parseInt($(window).height())<=parseInt(l.css("height"))&&l.css("height",$(window).height()),i.className&&l.addClass(i.className);var e=0;for(var t in i.buttons){var n=$("<p class='alert-btn-p alert-btn-p"+ ++e+"'>"+t+"</p>");"wap"==i.style&&n.css({width:Math.floor(l[0].clientWidth/s.buttonsLength)}),n.bind(s.event,i.buttons[t]),r.append(n)}if(0<s.buttonsLength&&(l.append(r),c.css("padding-bottom","46px"),1<=window.navigator.userAgent.indexOf("MSIE")&&c[0].scrollHeight>c[0].clientHeight&&c.css("height",parseInt(c.css("height"))-46)),""!=i.title&&c.css("padding-top","42px"),s.buttonsLength<=0&&""==i.title&&(l.addClass("alert-container-black"),i.icon)){var o=new Image;o.onload=function(){c.before(o)},o.src=i.icon,$(o).css({width:"45px",height:"auto",display:"block",margin:"10px auto 0 auto"}),c.css({"padding-top":"5px"})}l.css({"margin-left":-parseInt(l.css("width"))/2,"margin-top":-parseInt(l.css("height"))/2}),"actionsheet"==i.style&&(l.css({position:"fixed",left:0,top:"auto",bottom:"-100%","z-index":u,margin:0,width:"100%",height:"auto"}),l.animate({bottom:"0"},s.time)),"actionsheet"!=i.style&&"scale"==i.animateType&&l.addClass("bounceIn"),"actionsheet"!=i.style&&"linear"==i.animateType&&l.addClass("linearTop"),i.actionsheetCloseText&&(r.append(h),$(document).delegate(".alert-btn-sheet,.alert-modal","click",function(){s.close()})),m()},s.toggleAnimate=function(){return"actionsheet"!=i.style?"scale"==i.animateType?l.removeClass("bounceIn").addClass("bounceOut"):"linear"==i.animateType?l.removeClass("linearTop").addClass("linearBottom"):l:l.animate({bottom:"-100%"},s.time)},s.close=function(){s.toggleAnimate().fadeOut(s.time),a.fadeOut(s.time),i.bodyScroll&&$("body").css("overflow","auto")},"pc"==i.style&&p.bind(s.event,s.close),i.isModalClose&&a.bind(s.event,s.close),s.destroy=function(){s.toggleAnimate().fadeOut(s.time),setTimeout(function(){l.remove(),a.remove(),i.bodyScroll&&$("body").css("overflow","auto")},s.time)},s.show=function(){a.css("z-index",u),++u,l.css({"z-index":u}),"actionsheet"!=i.style?("scale"==i.animateType?l.fadeIn(s.time).removeClass("bounceOut").addClass("bounceIn"):"linear"==i.animateType?l.fadeIn(s.time).removeClass("linearBottom").addClass("linearTop"):l.fadeIn(s.time),"absolute"==i.position&&l.css({top:$(window).height()/2+$(window).scrollTop()})):l.fadeIn(0).animate({bottom:"0"},s.time),a.fadeIn(s.time),i.bodyScroll&&i.modal&&$("body").css("overflow","hidden"),m()},s.init(),console.log(s),s}var u=1e3;"undefined"!=typeof module&&"object"==typeof exports?module.exports=t:"function"==typeof define&&(define.amd||define.cmd)?define(function(){return t}):this.jqueryAlert=t}).call(function(){return this||("undefined"!=typeof window?window:global)}());