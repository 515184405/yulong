(window.webpackJsonp=window.webpackJsonp||[]).push([["photoStartPage"],{"0ed0":function(t,e,n){},"3cf1":function(t,e,n){"use strict";var o=n("0ed0");n.n(o).a},"3f01":function(t,e,n){"use strict";var o=n("4105");n.n(o).a},4105:function(t,e,n){},"418f":function(t,e,n){"use strict";var o={name:"photoPhotoBg",data:function(){return{}}},a=(n("3cf1"),n("e90a")),s=Object(a.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"photoPhotoBg"},[e("div",{staticClass:"photo-content flex x-center y-center"},[this._t("default")],2)])}),[],!1,null,"3a6cb4e2",null);e.a=s.exports},"9eae":function(t,e,n){},a44d:function(t,e,n){"use strict";var o=n("9eae");n.n(o).a},a482:function(t,e,n){"use strict";n.r(e);var o=n("418f"),a=n("e455"),s={name:"photoStartPage",data:function(){return{bigImageStatus:!1,coverSettings:{type:"1",cover_image_url:"",count_time_status:"0",count_time:5,enter_btn_status:"0",enter_btn:"立即进入",enter_btn_bottom:"30",enter_btn_color:"rgba(45,140,240,1)",enter_ani:"",enter_btn_type:"1"},enter_btn_typeArr:[{id:"1",name:"椭圆形按钮"},{id:"2",name:"方形按钮"},{id:"3",name:"通栏按钮"}],enter_ani:{"运动进入":["bounceOut","bounceOutDown","bounceOutLeft","bounceOutRight","bounceOutUp"],"淡化进入":["fadeOut","fadeOutDown","fadeOutDownBig","fadeOutLeft","fadeOutLeftBig","fadeOutRight","fadeOutRightBig","fadeOutUp","fadeOutUpBig"],"翻转进入":["flipOutX","flipOutY"],"旋转进入":["rotateOut","rotateOutDownLeft","rotateOutDownRight","rotateOutUpLeft","rotateOutUpRight"],"平移进入":["slideOutUp","slideOutDown","slideOutLeft","slideOutRight"],"缩放进入":["zoomOut","zoomOutDown","zoomOutLeft","zoomOutRight","zoomOutUp"],"其他":["hinge","rollOut"]}}},components:{photoPhoneBg:o.a,coverImageSettings:a.a},methods:{handleSuccess:function(t,e){1e5==t.code?this.coverSettings.cover_image_url=t.data.fileSrc:this.$Message.error(t.message)},handleFormatError:function(t){this.$Notice.warning({title:"图片格式不正确",desc:"图片格式不正确，请上传'jpg','jpeg','png','gif'格式"})},handleMaxSize:function(t){this.$Notice.warning({title:"图片尺寸过大",desc:"上传的封面图最大不能超过2M"})},handleBeforeUpload:function(){},submitStartPageEvent:function(){if(1==this.coverSettings.type&&!this.coverSettings.count_time_status&&!this.coverSettings.enter_btn_status)return this.$Message.warning({content:"进入按钮与倒计时必须选择一个",duration:3});this.setPhotoLiveCoverUploadData()},setPhotoLiveCoverUploadData:function(){var t=this;this.$req.photoliveCoverCreateUpdate(this.coverSettings).then((function(e){1e5==e.code?(t.$Modal.success({title:"消息提示",content:"相册启动封面已设置成功"}),t.coverSettings.id||(t.$emit("getPhotoOne"),t.getPhotoLiveCoverData())):t.$Message.error(e.message)})).catch((function(e){console.log(e),t.$Message.error("系统异常")}))},getPhotoLiveCoverData:function(){var t=this;this.$req.photoliveCoverOne(this.$route.params).then((function(e){1e5==e.code?e.data?(e.data.count_time=parseInt(e.data.count_time),e.data.enter_btn=e.data.enter_btn?e.data.enter_btn:"立即进入",e.data.enter_btn_color=e.data.enter_btn_color?e.data.enter_btn_color:"rgba(45,140,240,1)",e.data.enter_btn_bottom=e.data.enter_btn_bottom?e.data.enter_btn_bottom:"30",t.coverSettings=e.data):t.coverSettings.project_id=t.$route.params.project_id:t.$Message.error(e.message)})).catch((function(e){console.log(e),t.$Message.error("系统异常")}))}},created:function(){this.getPhotoLiveCoverData()}},r=(n("3f01"),n("e90a")),i=Object(r.a)(s,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"photoStartPage"},[o("Card",{attrs:{"dis-hover":"",bordered:!1}},[o("p",{staticStyle:{"line-height":"33px",height:"30px"},attrs:{slot:"title"},slot:"title"},[o("Icon",{staticStyle:{"font-size":"20px"},attrs:{type:"md-bookmarks"}}),t._v(" 设置启动页 ")],1)]),o("div",{staticClass:"flex"},[o("photo-phone-bg",[1==t.coverSettings.type?o("cover-image-settings",{attrs:{coverSettings:t.coverSettings}}):o("div",{staticClass:"cover-image2"},[o("img",{attrs:{src:n("bcfb")}})])],1),o("div",{staticClass:"flex-item",staticStyle:{"margin-left":"50px","max-width":"800px"}},[o("Form",{attrs:{model:t.coverSettings,"label-width":140}},[o("FormItem",{attrs:{label:"设置启动页类型："}},[o("RadioGroup",{model:{value:t.coverSettings.type,callback:function(e){t.$set(t.coverSettings,"type",e)},expression:"coverSettings.type"}},[o("Radio",{attrs:{label:"1"}},[o("span",[t._v("封面图")])]),o("Radio",{attrs:{label:"2"}},[o("span",[t._v("相册详情页")])])],1),o("div",{staticClass:"error",staticStyle:{"line-height":"1.5"}},[o("p",[t._v("1.PC端选择相册详情页时不显示封面图")])])],1),o("div",{staticClass:"flex x-left"},[o("FormItem",{attrs:{label:"启动页图片："}},[t.coverSettings.cover_image_url?o("div",{staticClass:"demo-upload-list"},[o("img",{attrs:{src:t.$oss+t.coverSettings.cover_image_url}})]):t._e(),o("Upload",{ref:"upload",staticStyle:{display:"inline-block",width:"58px"},attrs:{name:"file","show-upload-list":!1,"on-success":t.handleSuccess,accept:".png,.jpg,.jpeg,.gif",format:["jpg","jpeg","png","gif"],"max-size":2048,"on-format-error":t.handleFormatError,"on-exceeded-size":t.handleMaxSize,"before-upload":t.handleBeforeUpload,type:"drag",data:{dir:t.$userinfo.id+"/"+t.$route.params.project_id+"/cover"},action:t.$req.uploadImage()}},[o("div",{staticStyle:{width:"58px",height:"58px","line-height":"58px"}},[o("Icon",{attrs:{type:"ios-camera",size:"20"}})],1)]),o("div",{staticClass:"error",staticStyle:{"line-height":"1.5"}},[o("p",[t._v("1.图片的大小不能超过2M")]),o("p",[t._v("2.图片的尺寸建议：1920*1080")])])],1),o("div",{staticStyle:{"margin-left":"30px",position:"relative"}},[o("p",[t._v("示例图片（"),o("span",{staticStyle:{color:"#f00"}},[t._v("鼠标悬浮图片放大")]),t._v("）")]),o("img",{staticStyle:{width:"50px"},attrs:{src:n("da46"),alt:""},on:{mouseenter:function(e){t.bigImageStatus=!0},mouseleave:function(e){t.bigImageStatus=!1}}}),t.bigImageStatus?o("img",{staticStyle:{position:"absolute","z-index":"999",top:"21px"},attrs:{src:n("da46")}}):t._e()])],1),1==t.coverSettings.type?[o("FormItem",{attrs:{label:"是否开启倒计时："}},[o("i-switch",{attrs:{"false-value":"0","true-value":"1",size:"large"},model:{value:t.coverSettings.count_time_status,callback:function(e){t.$set(t.coverSettings,"count_time_status",e)},expression:"coverSettings.count_time_status"}},[o("span",{attrs:{slot:"open"},slot:"open"},[t._v("开启")]),o("span",{attrs:{slot:"close"},slot:"close"},[t._v("关闭")])])],1),1==t.coverSettings.count_time_status?o("FormItem",{attrs:{label:"请选择倒计时秒数："}},[o("Slider",{attrs:{min:3,max:20,"show-input":""},model:{value:t.coverSettings.count_time,callback:function(e){t.$set(t.coverSettings,"count_time",e)},expression:"coverSettings.count_time"}})],1):t._e(),o("FormItem",{attrs:{label:"是否开启进入按钮："}},[o("i-switch",{attrs:{"false-value":"0","true-value":"1",size:"large"},model:{value:t.coverSettings.enter_btn_status,callback:function(e){t.$set(t.coverSettings,"enter_btn_status",e)},expression:"coverSettings.enter_btn_status"}},[o("span",{attrs:{slot:"open"},slot:"open"},[t._v("开启")]),o("span",{attrs:{slot:"close"},slot:"close"},[t._v("关闭")])])],1),1==t.coverSettings.enter_btn_status?o("FormItem",{attrs:{label:"设置按钮类型："}},[o("Select",{staticStyle:{width:"200px"},model:{value:t.coverSettings.enter_btn_type,callback:function(e){t.$set(t.coverSettings,"enter_btn_type",e)},expression:"coverSettings.enter_btn_type"}},t._l(t.enter_btn_typeArr,(function(e){return o("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])})),1)],1):t._e(),1==t.coverSettings.enter_btn_status?o("FormItem",{attrs:{label:"设置按钮文字："}},[o("Input",{attrs:{type:"text"},model:{value:t.coverSettings.enter_btn,callback:function(e){t.$set(t.coverSettings,"enter_btn",e)},expression:"coverSettings.enter_btn"}})],1):t._e(),1==t.coverSettings.enter_btn_status&&3!=t.coverSettings.enter_btn_type?o("FormItem",{attrs:{label:"按钮距离底部："}},[o("Input",{attrs:{type:"text"},model:{value:t.coverSettings.enter_btn_bottom,callback:function(e){t.$set(t.coverSettings,"enter_btn_bottom",e)},expression:"coverSettings.enter_btn_bottom"}})],1):t._e(),1==t.coverSettings.enter_btn_status?o("FormItem",{attrs:{label:"按钮背景颜色："}},[o("ColorPicker",{attrs:{alpha:""},model:{value:t.coverSettings.enter_btn_color,callback:function(e){t.$set(t.coverSettings,"enter_btn_color",e)},expression:"coverSettings.enter_btn_color"}})],1):t._e(),o("FormItem",{attrs:{label:"选择进场动画："}},[o("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择进入动画"},model:{value:t.coverSettings.enter_ani,callback:function(e){t.$set(t.coverSettings,"enter_ani",e)},expression:"coverSettings.enter_ani"}},t._l(t.enter_ani,(function(e,n){return o("OptionGroup",{key:n,attrs:{label:n}},t._l(e,(function(e,n){return o("Option",{key:n,attrs:{value:e}},[t._v(t._s(e))])})),1)})),1)],1)]:t._e(),o("FormItem",[o("Button",{staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:t.submitStartPageEvent}},[t._v("提 交")])],1)],2)],1)],1)],1)}),[],!1,null,"c262b526",null);e.default=i.exports},bcfb:function(t,e,n){t.exports=n.p+"img/type2.198df416.jpg"},da46:function(t,e,n){t.exports=n.p+"img/cover.88163783.gif"},e455:function(t,e,n){"use strict";var o={name:"cover-image",props:{coverSettings:{type:Object,default:function(){}}},data:function(){return{isPlayAnimate:!1,style:{}}},watch:{"coverSettings.enter_ani":function(t,e){var n=this;this.isPlayAnimate=!0,setTimeout((function(){n.isPlayAnimate=!1}),1500)}},methods:{}},a=(n("a44d"),n("e90a")),s=Object(a.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cover-box",class:[t.coverSettings.enter_ani,{animated:t.isPlayAnimate}],style:{backgroundImage:"url("+t.$oss+t.coverSettings.cover_image_url+")"}},[1==t.coverSettings.count_time_status?n("div",{staticClass:"countdown-circle"},[t._v(t._s(t.coverSettings.count_time))]):t._e(),1==t.coverSettings.enter_btn_status?n("button",{staticClass:"enter-btn",class:"enter-btn-type"+t.coverSettings.enter_btn_type,style:"background:"+t.coverSettings.enter_btn_color+";bottom:"+t.coverSettings.enter_btn_bottom+"px",attrs:{type:"default"}},[t._v(t._s(t.coverSettings.enter_btn))]):t._e()])}),[],!1,null,"418bfb67",null);e.a=s.exports}}]);