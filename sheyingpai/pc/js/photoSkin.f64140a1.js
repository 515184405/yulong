(window.webpackJsonp=window.webpackJsonp||[]).push([["photoSkin"],{2203:function(t,e,o){},9354:function(t,e,o){"use strict";var i=o("2203");o.n(i).a},"9f15":function(t,e,o){"use strict";o.r(e);var i=o("418f"),a=o("e455"),s=o("06f8"),n={name:"photoStartPage",data:function(){return{photoSkinList:[],selectRadio:"",type:"0",photoSkin:{title:"",bg_image:"",module_bg_color:"#000",bg_color:"#333",color:"#bbb",active_color:"#fff"}}},components:{photoPhoneBg:i.a,coverImageSettings:a.a,skin:s.a},methods:{handleSuccess:function(t,e){1e5==t.code?this.photoSkin.bg_image=t.data.fileSrc:this.$Message.error(t.message)},handleFormatError:function(t){this.$Notice.warning({title:"图片格式不正确",desc:"图片格式不正确，请上传'jpg','jpeg','png','gif'格式"})},handleMaxSize:function(t){this.$Notice.warning({title:"图片尺寸过大",desc:"上传的封面图最大不能超过2M"})},handleBeforeUpload:function(){},selectSkinEvent:function(t){var e=JSON.parse(JSON.stringify(this.photoSkinList[t]));delete e.id,this.photoSkin=Object.assign(this.photoSkin,e),console.log(this.photoSkin)},submitStartPageEvent:function(){var t=this;this.photoSkin.project_id=this.$route.params.project_id,this.photoSkin.type="1",this.$req.photoliveSkinCreateUpdate(this.photoSkin).then((function(e){1e5==e.code?(t.$Modal.success({title:"消息提示",content:"相册启动封面已设置成功"}),t.photoSkin.id||(t.$emit("getPhotoOne"),t.getPhotoLiveSkinOne())):t.$Message.error(e.message)})).catch((function(e){console.log(e),t.$Message.error("系统异常")}))},getPhotoliveSkinList:function(){var t=this;this.$req.photoliveSkinList().then((function(e){1e5==e.code?e.data&&(t.photoSkinList=e.data):t.$Message.error(e.message)})).catch((function(e){console.log(e),t.$Message.error("系统异常")}))},getPhotoLiveSkinOne:function(){var t=this;this.$req.photoliveSkinOne({project_id:this.$route.params.project_id}).then((function(e){1e5==e.code?e.data&&(t.photoSkin=e.data,t.type="1"):t.$Message.error(e.message)})).catch((function(e){console.log(e),t.$Message.error("系统异常")}))}},created:function(){this.getPhotoLiveSkinOne(),this.getPhotoliveSkinList()}},r=(o("9354"),o("e90a")),l=Object(r.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"photoStartPage"},[o("Card",{attrs:{"dis-hover":"",bordered:!1}},[o("p",{staticStyle:{"line-height":"33px",height:"30px"},attrs:{slot:"title"},slot:"title"},[o("Icon",{staticStyle:{"font-size":"20px"},attrs:{type:"md-bookmarks"}}),t._v(" 设置相册皮肤 ")],1)]),o("div",{staticClass:"flex"},[o("photo-phone-bg",[o("skin",{attrs:{skinItem:t.photoSkin}})],1),o("div",{staticClass:"flex-item",staticStyle:{"margin-left":"50px"}},[o("Form",{attrs:{model:t.photoSkin,"label-width":140}},[o("FormItem",{attrs:{label:"设置皮肤类型："}},[o("RadioGroup",{model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[o("Radio",{attrs:{label:"0"}},[o("span",[t._v("系统类")])]),o("Radio",{attrs:{label:"1"}},[o("span",[t._v("自定义")])])],1)],1),0==t.type?o("div",{staticClass:"flex x-left wrap select-box"},[o("RadioGroup",{on:{"on-change":t.selectSkinEvent},model:{value:t.selectRadio,callback:function(e){t.selectRadio=e},expression:"selectRadio"}},[t._l(t.photoSkinList,(function(t,e){return[o("Radio",{attrs:{size:"large",label:e}},[o("skin",{staticClass:"skin-item",attrs:{skinItem:t}})],1)]}))],2)],1):[o("FormItem",{attrs:{label:"设置皮肤标题："}},[o("Input",{attrs:{type:"text"},model:{value:t.photoSkin.title,callback:function(e){t.$set(t.photoSkin,"title",e)},expression:"photoSkin.title"}})],1),o("FormItem",{attrs:{label:"背景图片："}},[t.photoSkin.bg_image?o("div",{staticClass:"demo-upload-list"},[o("img",{attrs:{src:t.$oss+t.photoSkin.bg_image}}),o("Icon",{attrs:{type:"md-trash"},nativeOn:{click:function(e){e.stopPropagation(),t.photoSkin.bg_image=""}}})],1):t._e(),o("Upload",{ref:"upload",staticStyle:{display:"inline-block",width:"58px"},attrs:{name:"file","show-upload-list":!1,"on-success":t.handleSuccess,accept:".png,.jpg,.jpeg,.gif",format:["jpg","jpeg","png","gif"],"max-size":2048,"on-format-error":t.handleFormatError,"on-exceeded-size":t.handleMaxSize,"before-upload":t.handleBeforeUpload,type:"drag",data:{dir:t.$userinfo.id+"/"+t.$route.params.project_id+"/skin"},action:t.$req.uploadImage()}},[o("div",{staticStyle:{width:"58px",height:"58px","line-height":"58px"}},[o("Icon",{attrs:{type:"ios-camera",size:"20"}})],1)]),o("div",{staticClass:"error",staticStyle:{"line-height":"1.5"}},[o("p",[t._v("1.图片的大小不能超过2M")]),o("p",[t._v("2.图片的尺寸建议：750*1333")])])],1),o("FormItem",{attrs:{label:"背景颜色："}},[o("ColorPicker",{attrs:{alpha:""},model:{value:t.photoSkin.bg_color,callback:function(e){t.$set(t.photoSkin,"bg_color",e)},expression:"photoSkin.bg_color"}})],1),o("FormItem",{attrs:{label:"模块背景颜色："}},[o("ColorPicker",{attrs:{alpha:""},model:{value:t.photoSkin.module_bg_color,callback:function(e){t.$set(t.photoSkin,"module_bg_color",e)},expression:"photoSkin.module_bg_color"}})],1),o("FormItem",{attrs:{label:"文字颜色："}},[o("ColorPicker",{attrs:{alpha:""},model:{value:t.photoSkin.color,callback:function(e){t.$set(t.photoSkin,"color",e)},expression:"photoSkin.color"}})],1),o("FormItem",{attrs:{label:"文字选中颜色："}},[o("ColorPicker",{attrs:{alpha:""},model:{value:t.photoSkin.active_color,callback:function(e){t.$set(t.photoSkin,"active_color",e)},expression:"photoSkin.active_color"}})],1)],o("FormItem",{attrs:{"label-width":0}},[o("Button",{staticStyle:{width:"100px"},attrs:{size:"large",type:"primary"},on:{click:t.submitStartPageEvent}},[t._v("提 交")])],1)],2)],1)],1)],1)}),[],!1,null,"38257d67",null);e.default=l.exports}}]);